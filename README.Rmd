---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# speechbr package <img src="man/figures/hexlogo.png" align="right" width = "120px"/>


<!-- badges: start -->
<!-- badges: end -->

## Overview

The goal of `{speechbr}` is to democratize access to the speeches of the deputies, that is, their ideias and thoughts.

The data is obtained on [Discursos e Notas Taquigráficas](https://www2.camara.leg.br/atividade-legislativa/discursos-e-notas-taquigraficas) of [Câmara dos Deputados](https://www.camara.leg.br/).

## Installation

You can install the development version of speechbr from [GitHub](https://github.com/) with:

```{r message=FALSE, warning=FALSE}
# install.packages("devtools")
devtools::install_github("dcardosos/speechbr")
```

## Example

An example of a base searching for the term "pandemia" ("pandemic", in English):

```{r example, warning=FALSE, message=FALSE}
library(speechbr)
library(ggplot2)

pandemic <- speechbr::speech_data(
  keyword = "pandemia",
  reference_date = "2021-12-20",
  qtd_days = 5)

dplyr::glimpse(pandemic)
```

The default of function is search within 2021-12-26 and 2021-12-31. If you want change this, use the arguments `reference_date` and `qtd_days`.

A simple application using the base:

```{r example_2}
pandemic %>% 
  dplyr::group_by(partido) %>% 
  dplyr::count(partido) %>% 
  dplyr::ungroup() %>% 
  dplyr::top_n(10, n) %>%
  ggplot(aes(reorder(partido, -n), n)) +
  geom_bar(stat = "identity", fill = "dark red") +
  theme_minimal() +
  labs(
    title = "Qtde de discursos com o termo `pandemia` no período de 50 dias por partido",
    x = "Partido",
    y = "Quantidade de discursos"
  )
```

### Example of a base

```{r example_3, echo=FALSE}

pandemic %>% 
  head(2) %>%
  knitr::kable()
```
