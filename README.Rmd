---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# speechbr <img src="man/figures/hexlogo.png" align="right" width = "120px"/>


<!-- badges: start -->
<!-- badges: end -->

## Overview

The goal of `{speechbr}` is to democratize access to the speeches of the deputies, that is, their ideias and thoughts.

The data is obtained on [Discursos e Notas Taquigráficas](https://www2.camara.leg.br/atividade-legislativa/discursos-e-notas-taquigraficas) of [Câmara dos Deputados](https://www.camara.leg.br/).

## Installation

You can install the development version of speechbr from [GitHub](https://github.com/) with:

```{r message=FALSE, warning=FALSE}
# install.packages("devtools")
devtools::install_github("dcardosos/speechbr")
```

## Example

An example of a base searching for the term "Bolsonaro":

```{r example, warning=FALSE, message=FALSE}
library(speechbr)
library(ggplot2)

tab <- speechbr::speech_data(
  keyword = "Bolsonaro",
  reference_date = "2021-12-25",
  qtd_days = 5)

dplyr::glimpse(tab)
```

The others parameters are `partido` (political party), `orador` (speaker's name) and `uf` (state acronym). Their default values are _empty_ ("").

A simple application using the base:

```{r example_2}
tab %>% 
  dplyr::group_by(partido) %>% 
  dplyr::count(partido) %>% 
  dplyr::ungroup() %>% 
  dplyr::top_n(10, n) %>%
  ggplot(aes(reorder(partido, -n), n)) +
  geom_bar(stat = "identity", fill = "#0066ff") +
  theme_minimal() +
  labs(
    title = "Number of speeches that cited `Bolsonaro` by political party",
    subtitle = "Searched between 2021-12-25 and 2021-12-20", 
    x = "Party",
    y = "Number of speeches"
  )
```

### Example of a base

```{r example_3, echo=FALSE}

tab %>% 
  head(2) %>%
  knitr::kable()
```
